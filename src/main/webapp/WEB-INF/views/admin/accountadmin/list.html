<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="content mt-3" th:fragment="list-admin">
    <div class="col-lg-12" style="padding-bottom:120px">
        <table class="table table-striped table-bordered table-hover text-center">
            <thead>
            <tr align="center">
                <th>No</th>
                <th>Name</th>
                <th>Role</th>
                <th>Status</th>
                <th colspan="2">Action</th>
            </tr>
            </thead>
            <tbody id="list-admin">
            <tr th:each="admin,loop : ${listAdmin}" th:id="'row-' + ${admin.id}" >
                <td th:text="${loop.count }"></td>
                <td th:text="${admin.name}"></td>
                <td th:text="${admin.roles[0].roleName}"></td>
                <td th:text="${admin.status}"></td>
                <td class="center">
                    <button type="button" class="btn btn-danger"
                            th:onclick="'deleteProduct(' + ${admin.id} + ')'"><i
                            class="fa fa-trash-o  fa-fw"></i></button>
                </td>
                <td class="center">
                    <button type="button" id="btn-initupdate"
                            th:onclick="'updateProduct(' + ${admin.id} + ')'"
                            class="btn btn-success btn-edit" data-toggle="modal" data-target="#exampleModal"
                            data-whatever="@mdo" ><i  class="fa fa-pencil fa-fw"></i></button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <script>
        function updateProduct(id){
            window.location.href = "/admin/product/edit/"+id;
        }
        function deleteProduct(id){
            Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, delete it!"
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = "/admin/product/delete/"+id;
                }
            });
        }
    </script>
</div>
</body>
</html>